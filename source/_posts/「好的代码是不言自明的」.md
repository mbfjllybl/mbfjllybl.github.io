---
title: 「好的代码是不言自明的」
date: 2021-11-17 00:08:33
updated:
tags: 设计模式
categories:
- [设计模式]
- [技术转载学习]
keywords: 
description:
top_img:
comments:
cover:
toc:
toc_number:
copyright:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
mathjax:
katex:
aplayer:
highlight_shrink:
aside:
---

# 「好的代码是不言自明的」

当我还是学生的时候，有幸听过南京大学蒋炎岩老师讲的一堂课，关于循环不变式和算法的证明。如今我已经忘记我是何时在哪里听到的，但是我对这堂课的内容依然印象深刻。我至今记得蒋炎岩老师说：「好的代码，是不言自证、不言自明的。」

当时这句话应该意在说明代码本身体现的循环不变式能证明代码。(我不太确定我当时的理解和记忆是否准确，因为当时的我很少去思考这些深层次的东西) 如今的我深刻地意识到这句话在工程中也同样适用。

一年前，我在苏州实习。起初，我对 「工程」 这个词几乎没有概念，我对代码的理解就是上学时候写的算法题和一些大作业，一份代码只要能跑通（或者 OJ 上的一个 accepted）就足以让我非常开心。但是，「工程」远远不止这些。

最开始，我负责编写一个服务的 data access layer。在 code review 的时候，一个 senior 的大哥非常犀利的指出了我 design 上的问题。data access layer，当时在我眼中如此简单的一个组件，senior 大哥拉全组一起开会，并重构了我的代码。虽然当时的我依旧看不出什么样的代码拓展性好、健壮性高，但是我第一次见到如此工整的代码，依旧觉得十分震撼。

后来，我负责从 0 开始编写一个服务。这次给我做 code review 的是另外一个同事。这位同事非常细致地给我 review 代码，除了 high level 的设计，还会深入每一个模块的细节，甚至是一个 await 关键字的使用、一个变量（函数）的命名。他跟我说过一句话：「当我们写代码的时候，要想着怎么让一个完全没有接触过你这份代码的人，能够快速看懂你在干什么」，那一刻我联想到蒋老师的那句话：「好的代码，是不言自证、不言自明的。」

自此以后，每次开始写代码，我都会不停地反问自己：「别人能看懂我的代码吗？我这样做合理吗?」如今看看去年的代码，再对比现在的代码，我似乎能感觉到我似乎现在比以前更能拿捏住一种感觉，这令我很开心。不过我也能够感觉到我依然还有提高的空间，我需要去看更多的代码。曾经的我也有时候对这种看上去有些「苛刻」的 code review 感到费解，但如今的我觉得这个过程真的非常必要和重要，我真心感谢这两位给我 review 代码的同事。

后来（还是实习的时候），我们组的 manager 做了一个 sharing，讲 Domain Driven Design。起初我只知道我们要做分层设计，但我不明白很多问题，比如：为什么这么分层？为什么在每一层要设计不同的 DTO？为什么要使用 interfere？我回看了那个视频，很多遍，一点点理解其中微妙的关系。在后来的实践中，我越来越能感受到它都精妙之处，有种豁然开朗的感觉（我并不精通 DDD，但是它给了我无限的启发，它是一个很好的参考）。每一层、每个组件各司其职；当要实现一个新的 feature 的时候能够迅速找到在哪里改代码，并有一个通用的流程；代码结构清晰明了。这好像又印证了：「好的代码，是不言自证、不言自明的。」

真的非常感谢这段经历，学到了很多，在写代码上给了我很多很棒的影响。

> [link](https://zhaoyuweijsnt.gitee.io/2021/11/14/internship-and-code-review/)

